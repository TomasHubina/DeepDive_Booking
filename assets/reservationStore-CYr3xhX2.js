import{m as o,u as n}from"./index-DnMmg2eV.js";const u=o("reservation",{state:()=>({reservations:[],currentReservation:{courseId:null,studentName:"",studentEmail:"",studentPhone:"",preferredDate:"",participants:1,notes:""}}),getters:{reservationCount:t=>t.reservations.length,getReservationById:t=>e=>t.reservations.find(r=>r.id===e),totalRevenue:t=>{const e=n();return t.reservations.reduce((r,s)=>{const i=e.getCourseById(s.courseId);return r+(i?.price||0)*s.participants},0)}},actions:{setCurrentReservation(t){this.currentReservation.courseId=t},updateReservationField(t,e){this.currentReservation[t]=e},submitReservation(){const e=n().getCourseById(this.currentReservation.courseId);if(!e)throw new Error("Kurz nebol najdenÃ½");const r={id:Date.now(),...this.currentReservation,courseName:e.name,coursePrice:e.price,totalPrice:e.price*this.currentReservation.participants,status:"pending",createdAt:new Date().toISOString()};return this.reservations.push(r),this.resetCurrentReservation(),r},resetCurrentReservation(){this.currentReservation={courseId:null,studentName:"",studentEmail:"",studentPhone:"",preferredDate:"",participants:1,notes:""}},cancelReservation(t){const e=this.reservations.findIndex(r=>r.id===t);e!==-1&&(this.reservations[e].status="cancelled")},deleteReservation(t){const e=this.reservations.findIndex(r=>r.id===t);e!==-1&&this.reservations.splice(e,1)}}});export{u};
