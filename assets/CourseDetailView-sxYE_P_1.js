import{_ as C,B as I,c as r,a as e,b as l,n as f,t as o,j as k,r as v,f as a,u as p,o as n,g as c,F as g,h as B}from"./index-DnMmg2eV.js";import{u as y}from"./reservationStore-CYr3xhX2.js";import{B as S,I as M}from"./BaseModal-fI0ol1dI.js";const z={name:"CourseDetailView",components:{InstructorCard:M,BaseButton:I,BaseModal:S},data(){return{coursesStore:null,reservationStore:null,isModalOpen:!1,selectedInstructorId:null}},computed:{course(){return this.coursesStore?.getCourseById(this.$route.params.id)},instructor(){return this.course?this.coursesStore?.getInstructorById(this.course.instructorId):null},selectedInstructor(){return this.selectedInstructorId?this.coursesStore?.getInstructorById(this.selectedInstructorId):null},selectedInstructorCourses(){return this.selectedInstructorId?this.coursesStore?.getCoursesByInstructor(this.selectedInstructorId)||[]:[]},modalTitle(){return this.instructor?`Kurzy - ${this.instructor.name}`:"Kurzy inštruktora"},levelText(){return this.course?{beginner:"Začiatočník",intermediate:"Mierne pokročilý",advanced:"Pokročilý",professional:"Profesionál"}[this.course.level]||this.course.level:""}},created(){this.coursesStore=p(),this.reservationStore=y()},methods:{showInstructorCourses(u){this.selectedInstructorId=u,this.isModalOpen=!0},closeModal(){this.isModalOpen=!1,setTimeout(()=>{this.selectedInstructorId=null},300)},goToCourse(u){this.closeModal(),this.$router.push({name:"course-detail",params:{id:u}})},bookCourse(){this.reservationStore.setCurrentReservation(this.course.id),this.$router.push({name:"reservation",params:{courseId:this.course.id}})},goBack(){this.$router.push("/courses")}}},T={class:"course-detail-view"},b={class:"container"},x={key:0,class:"course-detail"},w={class:"course-header"},V=["src","alt"],N={class:"course-header-content"},O={class:"course-description"},j={class:"course-body"},D={class:"course-info-section"},K={class:"info-grid"},R={class:"info-item"},F={class:"info-value"},P={class:"info-item"},Z={class:"info-value"},E={class:"info-item"},L={class:"info-value"},q={class:"info-item"},A={class:"price"},G={key:0,class:"instructor-section"},H={class:"action-section"},J={key:1,class:"not-found"},Q={key:0,class:"modal-courses"},U={class:"course-meta"},W={class:"price"},X={key:1};function Y(u,s,$,ee,h,t){const m=v("InstructorCard"),d=v("BaseButton"),_=v("BaseModal");return n(),r("div",T,[e("div",b,[t.course?(n(),r("div",x,[e("div",w,[e("img",{src:t.course.image,alt:t.course.name},null,8,V),e("div",N,[e("span",{class:f(["level-badge",`level-badge--${t.course.level}`])},o(t.levelText),3),e("h1",null,o(t.course.name),1),e("p",O,o(t.course.description),1)])]),e("div",j,[e("div",D,[s[4]||(s[4]=e("h2",null,"Informácie o kurze",-1)),e("div",K,[e("div",R,[s[0]||(s[0]=e("strong",null,"Trvanie:",-1)),e("span",F,o(t.course.duration),1)]),e("div",P,[s[1]||(s[1]=e("strong",null,"Maximálny počet študentov:",-1)),e("span",Z,o(t.course.maxStudents),1)]),e("div",E,[s[2]||(s[2]=e("strong",null,"Úroveň:",-1)),e("span",L,o(t.levelText),1)]),e("div",q,[s[3]||(s[3]=e("strong",null,"Cena:",-1)),e("span",A,o(t.course.price)+"€",1)])])]),t.instructor?(n(),r("div",G,[s[5]||(s[5]=e("h2",null,"Váš inštruktor",-1)),l(m,{instructor:t.instructor,onShowCourses:t.showInstructorCourses},null,8,["instructor","onShowCourses"])])):k("",!0),e("div",H,[l(d,{onClick:t.bookCourse},{default:a(()=>[...s[6]||(s[6]=[c(" Rezervovať kurz ",-1)])]),_:1},8,["onClick"]),l(d,{variant:"outline",onClick:t.goBack},{default:a(()=>[...s[7]||(s[7]=[c(" Späť na kurzy ",-1)])]),_:1},8,["onClick"])])])])):(n(),r("div",J,[s[9]||(s[9]=e("h2",null,"Kurz nebol nájdený",-1)),l(d,{onClick:t.goBack},{default:a(()=>[...s[8]||(s[8]=[c(" Späť na kurzy ",-1)])]),_:1},8,["onClick"])]))]),l(_,{"is-open":h.isModalOpen,title:t.modalTitle,onClose:t.closeModal},{default:a(()=>[t.selectedInstructorCourses.length>0?(n(),r("div",Q,[(n(!0),r(g,null,B(t.selectedInstructorCourses,i=>(n(),r("div",{key:i.id,class:"modal-course-item"},[e("h4",null,o(i.name),1),e("p",null,o(i.description),1),e("div",U,[e("span",null,o(i.duration),1),e("span",W,o(i.price)+"€",1)]),l(d,{variant:"outline",onClick:se=>t.goToCourse(i.id)},{default:a(()=>[...s[10]||(s[10]=[c(" Zobraziť detail ",-1)])]),_:1},8,["onClick"])]))),128))])):(n(),r("div",X,[...s[11]||(s[11]=[e("p",null,"Tento inštruktor momentálne nevyučuje žiadne kurzy.",-1)])]))]),_:1},8,["is-open","title","onClose"])])}const ne=C(z,[["render",Y],["__scopeId","data-v-4e0e9b60"]]);export{ne as default};
